# 类和对象

## 一、python类的定义

Python 中定义一个类使用 class 关键字实现，其基本语法格式如下：

	class 类名：
	    多个（≥0）类属性...
	    多个（≥0）类方法...

注意，无论是类属性还是类方法，对于类来说，它们都不是必需的，可以有也可以没有。另外，Python 类中属性和方法所在的位置是任意的，即它们之间并没有固定的前后次序。

和变量名一样，类名本质上就是一个标识符，因此我们在给类起名字时，必须让其符合 Python 的语法。

因此，在给类起名字时，最好使用能代表该类功能的单词，例如用“Student”作为学生类的类名；甚至如果必要，可以使用多个单词组合而成，例如初学者定义的第一个类的类名可以是“TheFirstDemo”。

注意，如果由单词构成类名，建议每个单词的首字母大写，其它字母小写。

给类起好名字之后，其后要跟有冒号（：），表示告诉 Python 解释器，下面要开始设计类的内部功能了，也就是编写类属性和类方法。

其实，类属性指的就是包含在类中的变量；而类方法指的是包含类中的函数。换句话说，类属性和类方法其实分别是包含类中的变量和函数的别称。需要注意的一点是，同属一个类的所有类属性和类方法，要保持统一的缩进格式，通常统一缩进 4 个空格。

 Python 类是由类头（class 类名）和类体（统一缩进的变量和函数）构成。例如，下面程序定义一个 TheFirstDemo 类：

	class TheFirstDemo:
	    '''这是一个学习Python定义的第一个类'''
	    # 下面定义了一个类属性
	    add = 'gcn'
	    # 下面定义了一个say方法
	    def say(self, content):
	        print(content)

和函数一样，我们也可以为类定义说明文档，其要放到类头之后，类体之前的位置，如上面程序中第二行的字符串，就是 TheFirstDemo 这个类的说明文档。

### 类的创建  __init__()类构造方法

在创建类时，我们可以手动添加一个 __init__() 方法，该方法是一个特殊的类实例方法，称为构造方法（或构造函数）。

构造方法用于创建对象时使用，每当创建一个类的实例对象时，Python 解释器都会自动调用它。Python 类中，手动添加构造方法的语法格式如下：

	def __init__(self,...):
	    代码块

注意，此方法的方法名中，开头和结尾各有 2 个下划线，且中间不能有空格。

另外，__init__() 方法可以包含多个参数，但必须包含一个名为 self 的参数，且必须作为第一个参数。也就是说，类的构造方法最少也要有一个 self 参数。例如，仍以 TheFirstDemo 类为例，添加构造方法的代码如下所示：

	class TheFirstDemo:
	    '''这是一个学习Python定义的第一个类'''
	    # 构造方法
	    def __init__(self):
	        print("调用构造方法")
	    # 下面定义了一个类属性
	    add = 'gcn'
	    # 下面定义了一个say方法
	    def say(self, content):
	        print(content)
注意，即便不手动为类添加任何构造方法，Python 也会自动为类添加一个仅包含 self 参数的构造方法。
仅包含 self 参数的 __init__() 构造方法，又称为类的默认构造方法。

在上面代码的后面，顶头（不缩进）直接添加如下代码：
a = TheFirstDemo()
这行代码的含义是创建一个名为 a 的 TheFirstDemo 类对象。运行代码可看到如下结果：

	调用构造方法

显然，在创建 a 这个对象时，隐式调用了我们手动创建的 __init__() 构造方法。

### Python类对象的创建和使用

1）创建类对象的过程，又称为类的实例化。

对已定义好的类进行实例化，其语法格式如下：

	类名(参数)

定义类时，如果没有手动添加 __init__() 构造方法，又或者添加的 __init__() 中仅有一个 self 参数，则创建类对象时的参数可以省略不写。

例如，如下代码创建了名为 Student 的类，并对其进行了实例化：
	class Student :
	    # 下面定义了2个类变量
	    name = "dk"
	    age = "22"
	    def __init__(self,name,age):
	        # 下面定义 2 个实例变量
	        self.name = name
	        self.age = age
	        print(name,add)
	    # 下面定义了一个say实例方法
	    def use(self, content):
	        print(content)
	# 将该Student对象赋给student变量
	student = Student("dk","22")

在上面的程序中，由于构造方法除 self 参数外，还包含 2 个参数，且这 2 个参数没有设置默认参数，因此在实例化类对象时，需要传入相应的 name 值和 age 值（self 参数是特殊参数，不需要手动传值，Python 会自动传给它值）。

2）类对象的使用

定义的类只有进行实例化，也就是使用该类创建对象之后，才能得到利用。总的来说，实例化后的类对象可以执行以下操作：

访问或修改类对象具有的实例变量，甚至可以添加新的实例变量或者删除已有的实例变量；

调用类对象的方法，包括调用现有的方法，以及给类对象动态添加方法。

类对象访问变量或方法

使用已创建好的类对象访问类中实例变量的语法格式如下：

	类对象名.变量名

使用类对象调用类中方法的语法格式如下：

	对象名.方法名(参数)

注意，对象名和变量名以及方法名之间用点 "." 连接。

### 类变量和实例变量

无论是类属性还是类方法，都无法像普通变量或者函数那样，在类的外部直接使用它们。我们可以将类看做一个独立的空间，则类属性其实就是在类体中定义的变量，类方法是在类体中定义的函数。

在类体中，根据变量定义的位置不同，以及定义的方式不同，类属性又可细分为以下 3 种类型：

类体中、所有函数之外：此范围定义的变量，称为类属性或类变量；

类体中，所有函数内部：以“self.变量名”的方式定义的变量，称为实例属性或实例变量；

类体中，所有函数内部：以“变量名=变量值”的方式定义的变量，称为局部变量。

不仅如此，类方法也可细分为实例方法、静态方法和类方法

1）类变量（类属性）

类变量指的是在类中，但在各个类方法外定义的变量。举个例子：

	class Student :
	    # 下面定义了2个类变量
	    name = "dk"
	    age = 22
	    # 下面定义了一个say实例方法
	    def say(self, content):
	        print(content)

上面程序中，name 和 add 就属于类变量。

类变量的特点是，所有类的实例化对象都同时共享类变量，也就是说，类变量在所有实例化对象中是作为公用资源存在的。类方法的调用方式有 2 种，既可以使用类名直接调用，也可以使用类的实例化对象调用。

2)实例变量（实例属性）

实例变量指的是在任意类方法内部，以“self.变量名”的方式定义的变量，其特点是只作用于调用方法的对象。另外，实例变量只能通过对象名访问，无法通过类名访问。

举个例子：

	class Student :
	    def __init__(self):
	        self.name = "dk"
	        self.add = 22
	    # 下面定义了一个say实例方法
	    def use(self):
	        self.catalog = 13
此 Student 类中，name、age 以及 catalog 都是实例变量。其中，由于 __init__() 函数在创建类对象时会自动调用，而 use() 方法需要类对象手动调用。因此，Student 类的类对象都会包含 name 和 age 实例变量，而只有调用了 use() 方法的类对象，才包含 catalog 实例变量。

### 类继承机制

继承机制经常用于创建和现有类功能类似的新类，又或是新类只需要在现有类基础上添加一些成员（属性和方法），但又不想直接将现有类代码复制给新类。也就是说，通过使用继承这种机制，可以轻松实现类的重复使用。

举个例子，假设现有一个 Shape 类，该类的 draw() 方法可以在屏幕上画出指定的形状，现在需要创建一个 Form 类，要求此类不但可以在屏幕上画出指定的形状，还可以计算出所画形状的面积。要创建这样的类，笨方法是将 draw() 方法直接复制到新类中，并添加计算面积的方法。实现代码如下所示：

	class Shape:
	    def draw(self,content):
	        print("画",content)
	class Form:
	    def draw(self,content):
	        print("画",content)
	    def area(self):
	        #....
	        print("此图形的面积为...")
当然还有更简单的方法，就是使用类的继承机制。实现方法为：让 Form 类继承 Shape 类，这样当 Form 类对象调用 draw() 方法时，Python 解释器会先去 Form 中找以 draw 为名的方法，如果找不到，它还会自动去 Shape 类中找。如此，我们只需在 Form 类中添加计算面积的方法即可，示例代码如下：

	class Shape:
	    def draw(self,content):
	        print("画",content)
	class Form(Shape):
	    def area(self):
	        #....
	        print("此图形的面积为...")
上面代码中，class Form(Shape) 就表示 Form 继承 Shape。

Python 中，实现继承的类称为子类，被继承的类称为父类（也可称为基类、超类）。因此在上面这个样例中，Form 是子类，Shape 是父类。

子类继承父类时，只需在定义子类时，将父类（可以是多个）放在子类之后的圆括号里即可。语法格式如下：
	
	class 类名(父类1, 父类2, ...)：
		    # 类定义部分

#### python支持多继承
















